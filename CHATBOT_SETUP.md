# ุฏููู ุฅุนุฏุงุฏ ุงูุดุงุช ุจูุช - ูุฑูุฒ ุงููุงุฑุณ v4.0.0

## ๐ ูุธุฑุฉ ุนุงูุฉ

ูุฐุง ุงูุฏููู ูุดุฑุญ ููููุฉ ุฅุนุฏุงุฏ ูุชูุนูู ุงูุดุงุช ุจูุช ุงูุฐูู ุนูู ูููุน ูุฑูุฒ ุงููุงุฑุณ.

---

## ๐ ุงูุฎุทูุฉ 1: ุงูุญุตูู ุนูู ุงูููุงุชูุญ ุงููุทููุจุฉ

### 1.1 Google Gemini API Key

**ุงูุบุฑุถ:** ูุญุฑู ุงูุฐูุงุก ุงูุงุตุทูุงุนู ููุดุงุช ุจูุช

**ุงูุฎุทูุงุช:**
1. ุงุฐูุจ ุฅูู: https://makersuite.google.com/app/apikey
2. ุณุฌูู ุงูุฏุฎูู ุจุญุณุงุจ Google
3. ุงููุฑ ุนูู "Create API Key"
4. ุงุฎุชุฑ ูุดุฑูุน ููุฌูุฏ ุฃู ุฃูุดุฆ ูุดุฑูุน ุฌุฏูุฏ
5. ุงูุณุฎ API Key (ูุจุฏุฃ ุจู `AIza...`)

**ูุซุงู:**
```
GOOGLE_API_KEY=AIzaSyBPd15DKs1umVpt2XhveF0si4vBgX9i24w
```

---

### 1.2 Telegram Bot Token

**ุงูุบุฑุถ:** ุฅุฑุณุงู ุชูุงุฑูุฑ ุงูุชุดุฎูุต ุฅูู Telegram

**ุงูุฎุทูุงุช:**
1. ุงูุชุญ Telegram ูุงุจุญุซ ุนู `@BotFather`
2. ุฃุฑุณู ุงูุฃูุฑ: `/newbot`
3. ุงุฎุชุฑ ุงุณูุงู ููุจูุช (ูุซู: "Al-Fares Diagnostic Bot")
4. ุงุฎุชุฑ username ููุจูุช (ูุฌุจ ุฃู ููุชูู ุจู `bot`)
5. ุงูุณุฎ Token ุงูุฐู ูุธูุฑ (ุทููู ุฌุฏุงู)

**ูุซุงู:**
```
TELEGRAM_BOT_TOKEN=8454425098:AAFx6QDdc-zHkxlkFsq01Z59G7Tni_WcFRY
```

---

### 1.3 Telegram Chat ID

**ุงูุบุฑุถ:** ุชุญุฏูุฏ ุงููุญุงุฏุซุฉ ุงูุชู ุณูุฑุณู ุฅูููุง ุงูุจูุช ุงูุชูุงุฑูุฑ

**ุงูุฎุทูุงุช:**
1. ุฃุฑุณู ุฑุณุงูุฉ ุฅูู ุงูุจูุช ุงูุฐู ุฃูุดุฃุชู (ุฃู ุฑุณุงูุฉ)
2. ุงูุชุญ ุงููุชุตูุญ ูุงุฐูุจ ุฅูู:
   ```
   https://api.telegram.org/bot<YOUR_BOT_TOKEN>/getUpdates
   ```
   ุงุณุชุจุฏู `<YOUR_BOT_TOKEN>` ุจุงูู Token ุงูุฐู ุญุตูุช ุนููู
3. ุงุจุญุซ ุนู `"chat":{"id":` ูู ุงููุชูุฌุฉ
4. ุงูุณุฎ ุงูุฑูู ุงูุฐู ูุธูุฑ ุจุนุฏูุง

**ูุซุงู:**
```
TELEGRAM_CHAT_ID=7244203502
```

---

### 1.4 WhatsApp Phone Number & CallMeBot API Key

**ุงูุบุฑุถ:** ุฅุฑุณุงู ุชูุงุฑูุฑ ุงูุชุดุฎูุต ุฅูู WhatsApp

**ุงูุฎุทูุงุช:**
1. ุงุฐูุจ ุฅูู: https://www.callmebot.com/blog/free-api-whatsapp-messages/
2. ุงุชุจุน ุงูุชุนูููุงุช:
   - ุฃุถู ุฑูู CallMeBot ุฅูู ุฌูุงุช ุงูุงุชุตุงู: `+34 644 51 44 13`
   - ุฃุฑุณู ุฑุณุงูุฉ WhatsApp ุฅูู ูุฐุง ุงูุฑูู:
     ```
     I allow callmebot to send me messages
     ```
   - ุณุชุญุตู ุนูู API Key ูู ุงูุฑุฏ
3. ุงุณุชุฎุฏู ุฑูู ูุงุชูู ุจุตูุบุฉ ุฏูููุฉ (ุจุฏูู + ุฃู 00)

**ูุซุงู:**
```
WHATSAPP_PHONE_NUMBER=966507322542
CALLMEBOT_API_KEY=6720242
```

---

## ๐ ุงูุฎุทูุฉ 2: ุฅุถุงูุฉ ุงูููุงุชูุญ ุฅูู Netlify

### 2.1 ุงูุฏุฎูู ุฅูู Netlify Dashboard

1. ุงุฐูุจ ุฅูู: https://app.netlify.com
2. ุงุฎุชุฑ ูููุนู (ูุดุฑูุน ูุฑูุฒ ุงููุงุฑุณ)
3. ุงููุฑ ุนูู **Site settings**

### 2.2 ุฅุถุงูุฉ Environment Variables

1. ูู ุงููุงุฆูุฉ ุงูุฌุงูุจูุฉุ ุงุฎุชุฑ **Environment variables**
2. ุงููุฑ ุนูู **Add a variable**
3. ุฃุถู ูู ูุชุบูุฑ ุนูู ุญุฏุฉ:

| Key | Value | ูุซุงู |
|-----|-------|------|
| `GOOGLE_API_KEY` | ููุชุงุญ Gemini ุงูุฐู ุญุตูุช ุนููู | `AIzaSy...` |
| `TELEGRAM_BOT_TOKEN` | Token ุงูุจูุช ูู BotFather | `8454425098:AAFx...` |
| `TELEGRAM_CHAT_ID` | Chat ID ูู getUpdates | `7244203502` |
| `WHATSAPP_PHONE_NUMBER` | ุฑูู ูุงุชูู (ุตูุบุฉ ุฏูููุฉ) | `966507322542` |
| `CALLMEBOT_API_KEY` | API Key ูู CallMeBot | `6720242` |

### 2.3 ุญูุธ ุงูุชุบููุฑุงุช

- ุงููุฑ ุนูู **Save** ุจุนุฏ ุฅุถุงูุฉ ูู ูุชุบูุฑ
- **ููู:** ูุง ุชุดุงุฑู ูุฐู ุงูููุงุชูุญ ูุน ุฃุญุฏ!

---

## ๐ ุงูุฎุทูุฉ 3: ุฅุนุงุฏุฉ ุงููุดุฑ

ุจุนุฏ ุฅุถุงูุฉ ุงููุชุบูุฑุงุช ุงูุจูุฆูุฉุ ูุฌุจ ุฅุนุงุฏุฉ ูุดุฑ ุงููููุน:

### ุงูุทุฑููุฉ 1: ูู Netlify Dashboard

1. ุงุฐูุจ ุฅูู **Deploys**
2. ุงููุฑ ุนูู **Trigger deploy**
3. ุงุฎุชุฑ **Deploy site**

### ุงูุทุฑููุฉ 2: ูู Git

```bash
# ุฃู ุชุนุฏูู ุจุณูุท ุซู push
git commit --allow-empty -m "Trigger redeploy"
git push origin main
```

---

## โ ุงูุฎุทูุฉ 4: ุงูุงุฎุชุจุงุฑ

### 4.1 ุงุฎุชุจุงุฑ ุงูุดุงุช ุจูุช

1. ุงูุชุญ ูููุนู ุงูููุดูุฑ ุนูู Netlify
2. ุงููุฑ ุนูู ุฒุฑ ุงูุดุงุช ุจูุช (๐ฌ)
3. ุงุจุฏุฃ ูุญุงุฏุซุฉ:
   - ุฃุฑุณู: "ูุฑุญุจุงู"
   - ูุฌุจ ุฃู ูุฑุฏ ุงูุจูุช ุจุงูุชุฑุญูุจ
4. ุฃููู ุงููุญุงุฏุซุฉ ุญุชู ุงูููุงูุฉ

### 4.2 ุงูุชุญูู ูู ุงูุฅุดุนุงุฑุงุช

**Telegram:**
- ุงูุชุญ Telegram
- ุชุญูู ูู ูุตูู ุฑุณุงูุฉ ูู ุงูุจูุช ูุน ุงูุชูุฑูุฑ

**WhatsApp:**
- ุงูุชุญ WhatsApp
- ุชุญูู ูู ูุตูู ุฑุณุงูุฉ ูู CallMeBot ูุน ุงูุชูุฑูุฑ

---

## ๐ ุงุณุชูุดุงู ุงูุฃุฎุทุงุก

### ุงููุดููุฉ: ุงูุดุงุช ุจูุช ูุง ูุฑุฏ

**ุงูุญููู:**
1. ุชุญูู ูู ุฅุถุงูุฉ `GOOGLE_API_KEY` ุจุดูู ุตุญูุญ
2. ุงูุชุญ **Netlify Functions Logs** ูุชุญูู ูู ุงูุฃุฎุทุงุก
3. ุชุฃูุฏ ูู ุฃู Gemini API Key ุตุงูุญ ูุบูุฑ ููุชูู

### ุงููุดููุฉ: ูุง ุชุตู ุฑุณุงุฆู Telegram

**ุงูุญููู:**
1. ุชุญูู ูู `TELEGRAM_BOT_TOKEN` ู `TELEGRAM_CHAT_ID`
2. ุฃุฑุณู ุฑุณุงูุฉ ุฌุฏูุฏุฉ ููุจูุช ูุฃุนุฏ ุงูุญุตูู ุนูู Chat ID
3. ุชุฃูุฏ ูู ุฃู ุงูุจูุช ูู ูุชู ุญุธุฑู

### ุงููุดููุฉ: ูุง ุชุตู ุฑุณุงุฆู WhatsApp

**ุงูุญููู:**
1. ุชุญูู ูู ุฃูู ุฃุฑุณูุช ุฑุณุงูุฉ ุงูุชูุนูู ุฅูู CallMeBot
2. ุชุฃูุฏ ูู ุฃู ุฑูู ุงููุงุชู ุจุตูุบุฉ ุฏูููุฉ ุตุญูุญุฉ (ุจุฏูู + ุฃู 00)
3. ุชุฃูุฏ ูู ุฃู API Key ุตุญูุญ

### ุงููุดููุฉ: ุฎุทุฃ CORS

**ุงูุญู:**
- ุชุฃูุฏ ูู ุฃู ููู `netlify/functions/chat.js` ูุญุชูู ุนูู CORS headers
- ุงูููู ุงูุญุงูู ูุญุชูู ุนูููุง ุจุงููุนู

---

## ๐ ุงูุฃูุงู

### ูุตุงุฆุญ ูููุฉ:

1. โ **ูุง ุชุดุงุฑู ุงูููุงุชูุญ:** ุงุญุชูุธ ุจูุง ุณุฑูุฉ
2. โ **ุงุณุชุฎุฏู Environment Variables:** ูุง ุชุถุนูุง ูู ุงูููุฏ
3. โ **ุฑุงูุจ ุงูุงุณุชุฎุฏุงู:** ุชุญูู ูู ุงุณุชุฎุฏุงู Gemini API
4. โ **ุญุฏุฏ ุงูุตูุงุญูุงุช:** ุงุณุชุฎุฏู ุฃูู ุงูุตูุงุญูุงุช ุงููุทููุจุฉ

---

## ๐ ุงููุฑุงูุจุฉ

### Netlify Functions Logs

ููุชุญูู ูู ุณุฌูุงุช ุงูุดุงุช ุจูุช:

1. ุงุฐูุจ ุฅูู Netlify Dashboard
2. ุงุฎุชุฑ **Functions**
3. ุงููุฑ ุนูู `chat`
4. ุงุฎุชุฑ **Logs**

ุณุชุฌุฏ ููุง:
- ุทูุจุงุช ุงูุดุงุช ุจูุช
- ุงูุฃุฎุทุงุก (ุฅู ูุฌุฏุช)
- ุญุงูุฉ ุงูุฅุฑุณุงู ุฅูู Telegram/WhatsApp

---

## ๐จ ุงูุชุฎุตูุต

### ุชุนุฏูู ุงูุจุฑูุฌุฉ ุงูุชูุฌูููุฉ (System Prompt)

ูุชุบููุฑ ุทุฑููุฉ ุนูู ุงูุดุงุช ุจูุช:

1. ุงูุชุญ `netlify/functions/chat.js`
2. ุงุจุญุซ ุนู `const SYSTEM_PROMPT`
3. ุนุฏูู ุงููุต ุญุณุจ ุงุญุชูุงุฌุงุชู
4. ุงุญูุธ ูุงุฑูุน ุฅูู Git

**ูุซุงู:**
```javascript
const SYSTEM_PROMPT = `ุฃูุช "ุงูููุดุฎููุต ุงูุฐูู"...
// ุนุฏูู ููุง
`;
```

### ุชุบููุฑ ูููุฐุฌ Gemini

ูุงุณุชุฎุฏุงู ูููุฐุฌ ูุฎุชูู:

```javascript
// ูู netlify/functions/chat.js
const model = genAI.getGenerativeModel({ 
    model: "gemini-2.0-flash-exp", // ุบููุฑ ููุง
    systemInstruction: SYSTEM_PROMPT
});
```

**ุงูููุงุฐุฌ ุงููุชุงุญุฉ:**
- `gemini-2.0-flash-exp` (ุงูุญุงูู - ุณุฑูุน ููุฌุงูู)
- `gemini-1.5-pro` (ุฃููู ููู ุฃุบูู)
- `gemini-1.5-flash` (ูุชูุงุฒู)

---

## ๐ ุงูุฏุนู

ุฅุฐุง ูุงุฌูุช ุฃู ูุดุงูู:

1. ุฑุงุฌุน ูุณู **ุงุณุชูุดุงู ุงูุฃุฎุทุงุก** ุฃุนูุงู
2. ุชุญูู ูู Netlify Functions Logs
3. ุชูุงุตู ูุน ุงูุฏุนู ุงูููู

---

## โ ูุงุฆูุฉ ุงูุชุญูู ุงูููุงุฆูุฉ

- [ ] ุญุตูุช ุนูู Gemini API Key
- [ ] ุฃูุดุฃุช Telegram Bot ูุญุตูุช ุนูู Token
- [ ] ุญุตูุช ุนูู Telegram Chat ID
- [ ] ูุนููุช CallMeBot WhatsApp ูุญุตูุช ุนูู API Key
- [ ] ุฃุถูุช ุฌููุน ุงููุชุบูุฑุงุช ุงูุจูุฆูุฉ ูู Netlify
- [ ] ุฃุนุฏุช ูุดุฑ ุงููููุน
- [ ] ุงุฎุชุจุฑุช ุงูุดุงุช ุจูุช ุจูุฌุงุญ
- [ ] ูุตูุช ุฑุณุงูุฉ Telegram
- [ ] ูุตูุช ุฑุณุงูุฉ WhatsApp

---

**ุชู ุจูุฌุงุญ! ๐**

ุงูุดุงุช ุจูุช ุงูุขู ุฌุงูุฒ ููุนูู ุนูู ูููุนู.

